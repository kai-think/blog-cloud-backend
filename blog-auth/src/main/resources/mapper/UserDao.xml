<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xb.blog.auth.dao.UserDao">
    <select id="getUserInfo" resultType="com.xb.blog.auth.vo.UserInfoVo">
        SELECT u.uid,
               u.nick_name        nickName,
               u.pic_uid          picUid,
               COUNT(b.uid)       blogCount,
               SUM(b.click_count) clickCount,
               SUM(b.like_count)  likeCount
        FROM t_user u
                 LEFT JOIN t_blog b ON u.uid = b.author AND b.STATUS = 1
        WHERE u.STATUS = 1 AND u.uid = #{userUid}
    </select>
</mapper>